<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>pnet: Petri nets on Racket places</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html" class="tocviewselflink" data-pltdoc="x">pnet:<span class="mywbr"> &nbsp;</span> Petri nets on Racket places</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28part._.A.P.I_.Functions%29" class="tocviewlink" data-pltdoc="x">API Functions</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28part._.Structs%29" class="tocviewlink" data-pltdoc="x">Structs</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._pnet__.Petri_nets_on_.Racket_places%29" class="tocsubseclink" data-pltdoc="x">pnet:<span class="mywbr"> &nbsp;</span> Petri nets on Racket places</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.A.P.I_.Functions%29" class="tocsubseclink" data-pltdoc="x">API Functions</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.Petri_net_life_cycle%29" class="tocsubseclink" data-pltdoc="x">Petri net life cycle</a></td></tr><tr><td><a href="#%28def._%28%28lib._pnet%2Fmain..rkt%29._start-pnet-place%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">start-<wbr></wbr>pnet-<wbr></wbr>place</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pnet%2Fmain..rkt%29._stop-pnet-place%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">stop-<wbr></wbr>pnet-<wbr></wbr>place</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._.Interacting_with_.Petri_nets%29" class="tocsubseclink" data-pltdoc="x">Interacting with Petri nets</a></td></tr><tr><td><a href="#%28def._%28%28lib._pnet%2Fmain..rkt%29._call%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">call</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pnet%2Fmain..rkt%29._cast%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">cast</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Structs%29" class="tocsubseclink" data-pltdoc="x">Structs</a></td></tr><tr><td><a href="#%28def._%28%28lib._pnet%2Fmain..rkt%29._.Delta%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">Delta</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pnet%2Fmain..rkt%29._.Call.Reply%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">Call<span class="mywbr"> &nbsp;</span>Reply</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pnet%2Fmain..rkt%29._.Pnet.Place%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">Pnet<span class="mywbr"> &nbsp;</span>Place</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">6.90.0.26</span></div><h2><a name="(part._pnet__.Petri_nets_on_.Racket_places)"></a><a name="(mod-path._pnet)"></a>pnet: Petri nets on Racket places</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">J&#246;rgen Brandt</p></span></div><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">pnet</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/pnet" title="Install this package using `raco pkg install pnet`"><span class="stt">pnet</span></a></span></td></tr></table></p><p>Petri nets are an advanced transition system whose semantics are determined by
making explicit the preconditions enabling an operation to be carried out while
leaving implicit how independent operations are timed. This way Petri nets
provide a natural view on concurrent behavior.</p><p>This library allows the specification of the internals of a
<a href="file:///home/jorgen/git/racket/racket/doc/reference/places.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">racket/place</span></a> as a Petri net, more specifically, a high-level
interface net. This means that (i) tokens can be any kind of Racket data
structure (with the only restriction that tokens that pass the Racket place
boundary, i.e., tokens sent and received by the net instance, need to be
<span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/places.html#%28def._%28%28lib._racket%2Fplace..rkt%29._place-message-allowed~3f%29%29" class="RktValLink" data-pltdoc="x">place-message-allowed?</a></span>) and (ii) transitions can perform arbitrary
computations.</p><p>While a <a href="file:///home/jorgen/git/pnet/scribblings/pnet.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">pnet</span></a> instance acts as a Petri net on the inside, to the
outside it behaves like a normal Racket place. Receiving a message on a place
channel is translated to a token appearing or disappearing inside the Petri net.
Moreover, the net can be configured to trigger side effects like sending out
messages to other Racket places when a token appears in a particular position in
the net.</p><h3>1<tt>&nbsp;</tt><a name="(part._.A.P.I_.Functions)"></a>API Functions</h3><p>This section describes all functions provided for controlling a Petri net
instance from the outside, i.e., functions to control an instance&rsquo;s life cycle
as well as functions to interact with an instance.</p><h4>1.1<tt>&nbsp;</tt><a name="(part._.Petri_net_life_cycle)"></a>Petri net life cycle</h4><p>Here, we discuss the functions provided for starting and stopping a Petri net
instance.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pnet/main..rkt)._start-pnet-place))"></a><span title="Provided from: pnet | Package: pnet"><span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._start-pnet-place%29%29" class="RktValDef RktValLink" data-pltdoc="x">start-pnet-place</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pnet-mod</span><span class="hspace">&nbsp;</span><span class="RktVar">init-arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/places.html#%28def._%28%28lib._racket%2Fplace..rkt%29._place~3f%29%29" class="RktValLink" data-pltdoc="x">place?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pnet-mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/Module_Names_and_Loading.html#%28def._%28%28quote._~23~25kernel%29._module-path~3f%29%29" class="RktValLink" data-pltdoc="x">module-path?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">init-arg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/places.html#%28def._%28%28lib._racket%2Fplace..rkt%29._place-message-allowed~3f%29%29" class="RktValLink" data-pltdoc="x">place-message-allowed?</a></span></td></tr></table></blockquote><p>This function starts a Petri net place instance. Like the <span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/places.html#%28form._%28%28lib._racket%2Fplace..rkt%29._place%29%29" class="RktStxLink" data-pltdoc="x">place</a></span>
function it starts a place as a side effect and returns a reference to it. The
only mandatory argument <span class="RktSym">pnet-mod</span> is a path to a Petri net module.</p><p>A Petri net module is a module, preferably in <a href="file:///home/jorgen/git/racket/racket/doc/ts-reference/index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">typed/racket</span></a>,
which provides a name <span class="RktSym">*PNET*</span> being an instance of <span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._.Pnet.Place%29%29" class="RktValLink" data-pltdoc="x">PnetPlace</a></span>.
The Petri net module defines all application-dependent behavior of the place in
terms of a Petri net.</p><p>The remaining <span class="RktSym">init-arg</span> arguments are processed by the
<span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._.Pnet.Place%29%29" class="RktValLink" data-pltdoc="x">PnetPlace</a></span> struct&rsquo;s <span class="RktSym">init</span> callback function which produces
the user info field used by the remaining callback functions.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pnet/main..rkt)._stop-pnet-place))"></a><span title="Provided from: pnet | Package: pnet"><span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._stop-pnet-place%29%29" class="RktValDef RktValLink" data-pltdoc="x">stop-pnet-place</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/places.html#%28def._%28%28lib._racket%2Fplace..rkt%29._place~3f%29%29" class="RktValLink" data-pltdoc="x">place?</a></span></td></tr></table></blockquote><h4>1.2<tt>&nbsp;</tt><a name="(part._.Interacting_with_.Petri_nets)"></a>Interacting with Petri nets</h4><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pnet/main..rkt)._call))"></a><span title="Provided from: pnet | Package: pnet"><span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._call%29%29" class="RktValDef RktValLink" data-pltdoc="x">call</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span><span class="RktVar">msg</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/places.html#%28def._%28%28lib._racket%2Fplace..rkt%29._place-message-allowed~3f%29%29" class="RktValLink" data-pltdoc="x">place-message-allowed?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/places.html#%28def._%28%28lib._racket%2Fplace..rkt%29._place~3f%29%29" class="RktValLink" data-pltdoc="x">place?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">msg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/places.html#%28def._%28%28lib._racket%2Fplace..rkt%29._place-message-allowed~3f%29%29" class="RktValLink" data-pltdoc="x">place-message-allowed?</a></span></td></tr></table></blockquote><p>bla</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pnet/main..rkt)._cast))"></a><span title="Provided from: pnet | Package: pnet"><span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._cast%29%29" class="RktValDef RktValLink" data-pltdoc="x">cast</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span><span class="RktVar">msg</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/places.html#%28def._%28%28lib._racket%2Fplace..rkt%29._place~3f%29%29" class="RktValLink" data-pltdoc="x">place?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">msg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/places.html#%28def._%28%28lib._racket%2Fplace..rkt%29._place-message-allowed~3f%29%29" class="RktValLink" data-pltdoc="x">place-message-allowed?</a></span></td></tr></table></blockquote><p>blub</p><h3>2<tt>&nbsp;</tt><a name="(part._.Structs)"></a>Structs</h3><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._pnet/main..rkt)._.Delta-produce))"></a><a name="(def._((lib._pnet/main..rkt)._.Delta-consume))"></a><a name="(def._((lib._pnet/main..rkt)._.Delta~3f))"></a><a name="(def._((lib._pnet/main..rkt)._struct~3a.Delta))"></a><a name="(def._((lib._pnet/main..rkt)._.Delta))"></a><span title="Provided from: pnet | Package: pnet"><span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._.Delta%29%29" class="RktValDef RktValLink" data-pltdoc="x">Delta</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">consume</span><span class="stt"> </span><span class="RktSym">produce</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">consume</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash~3f%29%29" class="RktValLink" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">produce</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash~3f%29%29" class="RktValLink" data-pltdoc="x">hash?</a></span></td></tr></table></blockquote><p>This struct represents a change in the marking of a Petri net. It comprises a
consume-hash, specifying which tokens should be consumed from which places, and
a produce-hash, specifying which tokens should be produced on which places.</p><p>The struct is used to specify the effect of receiving calls or casts sent to the
net instance via <span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._call%29%29" class="RktValLink" data-pltdoc="x">call</a></span> or <span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._cast%29%29" class="RktValLink" data-pltdoc="x">cast</a></span>. Accordingly, they are part of
the return values of the <span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._.Pnet.Place%29%29" class="RktValLink" data-pltdoc="x">PnetPlace</a></span> callback functions
<span class="RktSym">handle-call</span> and <span class="RktSym">handle-cast</span>.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._pnet/main..rkt)._.Call.Reply-delta))"></a><a name="(def._((lib._pnet/main..rkt)._.Call.Reply-msg))"></a><a name="(def._((lib._pnet/main..rkt)._.Call.Reply~3f))"></a><a name="(def._((lib._pnet/main..rkt)._struct~3a.Call.Reply))"></a><a name="(def._((lib._pnet/main..rkt)._.Call.Reply))"></a><span title="Provided from: pnet | Package: pnet"><span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._.Call.Reply%29%29" class="RktValDef RktValLink" data-pltdoc="x">CallReply</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">msg</span><span class="stt"> </span><span class="RktSym">delta</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">msg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">delta</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._.Delta%29%29" class="RktValLink" data-pltdoc="x">Delta</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/booleans.html#%28def._%28%28lib._racket%2Fbool..rkt%29._false~3f%29%29" class="RktValLink" data-pltdoc="x">false?</a></span><span class="RktPn">)</span></td></tr></table></blockquote><p>This struct is the expected return value of the <span class="RktSym">handle-call</span> callback
function and comprises a reply message to be returned by <span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._call%29%29" class="RktValLink" data-pltdoc="x">call</a></span> and an
optional <span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._.Delta%29%29" class="RktValLink" data-pltdoc="x">Delta</a></span> struct representing the change in the Petri net marking.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="nobreak"><a name="(def._((lib._pnet/main..rkt)._.Pnet.Place-trigger))"></a><a name="(def._((lib._pnet/main..rkt)._.Pnet.Place-handle-cast))"></a><a name="(def._((lib._pnet/main..rkt)._.Pnet.Place-handle-call))"></a><a name="(def._((lib._pnet/main..rkt)._.Pnet.Place-init))"></a><a name="(def._((lib._pnet/main..rkt)._.Pnet.Place-fire))"></a><a name="(def._((lib._pnet/main..rkt)._.Pnet.Place-enabled~3f))"></a><a name="(def._((lib._pnet/main..rkt)._.Pnet.Place-init-marking))"></a><a name="(def._((lib._pnet/main..rkt)._.Pnet.Place-preset-hash))"></a><a name="(def._((lib._pnet/main..rkt)._.Pnet.Place-place-set))"></a><a name="(def._((lib._pnet/main..rkt)._.Pnet.Place~3f))"></a><a name="(def._((lib._pnet/main..rkt)._struct~3a.Pnet.Place))"></a><a name="(def._((lib._pnet/main..rkt)._.Pnet.Place))"></a><span title="Provided from: pnet | Package: pnet"><span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._.Pnet.Place%29%29" class="RktValDef RktValLink" data-pltdoc="x">PnetPlace</a></span></span></span></td><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span></td><td><span class="nobreak"><span class="RktSym">place-set</span></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">preset-hash</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">init-marking</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">enabled?</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">fire</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">init</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">handle-call</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">handle-cast</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">trigger</span><span class="RktPn">))</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">place-set</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/sets.html#%28def._%28%28lib._racket%2Fset..rkt%29._set~3f%29%29" class="RktValLink" data-pltdoc="x">set?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">preset-hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash~3f%29%29" class="RktValLink" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">init-marking</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list~3f%29%29" class="RktValLink" data-pltdoc="x">list?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">enabled?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash~3f%29%29" class="RktValLink" data-pltdoc="x">hash?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">fire</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash~3f%29%29" class="RktValLink" data-pltdoc="x">hash?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash~3f%29%29" class="RktValLink" data-pltdoc="x">hash?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/booleans.html#%28def._%28%28lib._racket%2Fbool..rkt%29._false~3f%29%29" class="RktValLink" data-pltdoc="x">false?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">init</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%2A%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span>*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:rest</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">handle-call</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash~3f%29%29" class="RktValLink" data-pltdoc="x">hash?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._.Call.Reply%29%29" class="RktValLink" data-pltdoc="x">CallReply</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">handle-cast</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash~3f%29%29" class="RktValLink" data-pltdoc="x">hash?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._.Delta%29%29" class="RktValLink" data-pltdoc="x">Delta</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/booleans.html#%28def._%28%28lib._racket%2Fbool..rkt%29._false~3f%29%29" class="RktValLink" data-pltdoc="x">false?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">trigger</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash~3f%29%29" class="RktValLink" data-pltdoc="x">hash?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/jorgen/git/racket/racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr></table></blockquote><p>This struct represents the application-specific definition of a Petri net. It
consists of the following fields:</p><ul><li><p><span class="RktSym">place-set</span> a set of symbols containing the names of all Petri
net places.</p></li><li><p><span class="RktSym">preset-hash</span> a hash table mapping symbols to lists of symbols
and containing an entry for each transition mapping its name to the
names of all places that are in its preset.</p></li><li><p><span class="RktSym">init-marking</span> a function that, given a place name and the user
info field generated via <span class="RktSym">init</span>, returns a list containing the
tokens on that place when the net instance starts.</p></li><li><p><span class="RktSym">enabled?</span> a predicate function that returns <span class="RktVal">#t</span> if for a
given trransition name, firing mode, and user info field enable that
transition is enabled.</p></li><li><p><span class="RktSym">init</span> a function that given a number of initial arguments
returns the user info field</p></li><li><p><span class="RktSym">handle-call</span> a function defining the reply and the changes in
the Petri net marking as a consequence of a synchronous <span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._call%29%29" class="RktValLink" data-pltdoc="x">call</a></span>.</p></li><li><p><span class="RktSym">handle-cast</span> a function defining the changes in the Petri net
marking as a consequence of an asynchronous <span class="RktSym"><a href="file:///home/jorgen/git/pnet/scribblings/pnet.html#%28def._%28%28lib._pnet%2Fmain..rkt%29._cast%29%29" class="RktValLink" data-pltdoc="x">cast</a></span>.</p></li><li><p><span class="RktSym">trigger</span> a function that given a place name, a token, and a
user info field triggers a side effect and returns <span class="RktVal">#t</span> if the
token should be created normally on the place or <span class="RktVal">#f</span> if the
token should be dropped instead.</p></li></ul></div></div><div id="contextindicator">&nbsp;</div></body></html>